{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"SL-GPS: Supervised Learning - Global Pathway Selection","text":"<p>Welcome to SL-GPS, a Python framework for automated chemistry reduction in combustion simulations. This tool uses artificial neural networks trained on chemical kinetics data to predict important species, enabling dynamic reduction of complex chemical mechanisms during autoignition simulations.</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>Automated Data Generation: Run 0D autoignition simulations with adaptive GPS-based species selection</li> <li>Neural Network Training: Train ANNs on the generated kinetics data for species importance prediction</li> <li>Dynamic Mechanism Reduction: Adaptively reduce chemical mechanisms during simulation based on ANN predictions</li> <li>Flexible Chemistry: Support for any detailed mechanism compatible with Cantera (CTI format)</li> <li>Parallel Processing: Multi-process data generation and ensemble neural network training</li> </ul>"},{"location":"#what-this-does","title":"What This Does","text":"<p>SL-GPS addresses a critical challenge in combustion modeling: large chemical mechanisms are computationally expensive, but simple ones can be inaccurate. This framework automatically learns which species are important at different points in a simulation:</p> <ol> <li>Phase 1: Training Data Generation - Runs multiple autoignition simulations with detailed mechanisms, using GPS to identify important species in each timestep interval</li> <li>Phase 2: ANN Training - Trains neural networks to predict important species based on thermochemical state (temperature, pressure, composition)</li> <li>Phase 3: Adaptive Reduction - Uses trained ANNs to dynamically select species during new simulations, building reduced mechanisms on-the-fly</li> </ol>"},{"location":"#typical-workflow","title":"Typical Workflow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 1. Run main.py \u2192 Generate training data via GPS + ANNs      \u2502\n\u2502    (make_data_parallel.py creates autoignition dataset)      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 2. mech_train.py \u2192 Train ensemble of neural networks        \u2502\n\u2502    (selects best model from parallel training)              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 3. Run SL_GPS.py \u2192 Adaptive simulation with trained ANN     \u2502\n\u2502    (dynamically reduces mechanism at each timestep)         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 4. display_sim_data.py \u2192 Visualize results                  \u2502\n\u2502    (temperature, HRR, species evolution, mechanism size)    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"#why-sl-gps","title":"Why SL-GPS?","text":"<p>Traditional mechanism reduction methods (e.g., DRGEP, CSP) are slow or require manual tuning. SL-GPS provides:</p> <ul> <li>Speed: Once trained, ANN predictions are ~10x faster than GPS</li> <li>Accuracy: Learns from data-driven analysis of important reaction pathways</li> <li>Automation: No manual tuning of importance thresholds required</li> <li>Adaptability: Mechanisms reduce differently at different simulation points (e.g., pre-ignition vs. post-ignition)</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":""},{"location":"#try-online-no-installation-required","title":"\ud83c\udf10 Try Online (No Installation Required)","text":"<p>Launch SL-GPS GUI on Hugging Face Spaces - The frontend is deployed and ready to use directly in your browser!</p> <p> </p>"},{"location":"#or-launch-locally","title":"\ud83d\ude80 Or Launch Locally","text":"<p>Alternatively, run it locally with the built-in Gradio GUI:</p> <pre><code>pip install -r frontend/requirements.txt\npython -m frontend\n</code></pre> <p>This opens a browser interface where you can: - Upload a Cantera mechanism file - Configure simulation parameters - Generate training datasets with one click - Train neural networks with customizable architecture - Download trained models</p> <p>\u2192 GUI Documentation</p>"},{"location":"#installation","title":"Installation","text":"<pre><code>pip install --no-cache-dir \"cantera==2.6.0\"\npip install \"numpy==1.26.4\" tensorflow mkdocs mkdocs-material networkx scikit-learn\n</code></pre>"},{"location":"#manual-usage-script-based","title":"Manual Usage (Script-Based)","text":"<pre><code># See docs/setup.md for detailed installation\n# See docs/workflow.md for step-by-step tutorials\n# See docs/code_structure.md for customization options\n</code></pre>"},{"location":"#publications-references","title":"Publications &amp; References","text":""},{"location":"#primary-citation","title":"Primary Citation","text":"<p>If you use this work, please cite: - Mishra, R., Nelson, A., Jarrahbashi, D., \"Adaptive global pathway selection using artificial neural networks: A-priori study\", Combustion and Flame, 244 (2022) 112279. [DOI: 10.1016/j.combustflame.2022.112279]</p>"},{"location":"#related-work","title":"Related Work","text":"<ul> <li>Gao, X., Yang, S., Sun, W., \"A global pathway selection algorithm for the reduction of detailed chemical kinetic mechanisms\", Combustion and Flame, 167 (2016) 238-247. [DOI: 10.1016/j.combustflame.2016.02.007]</li> </ul>"},{"location":"#contact-community","title":"Contact &amp; Community","text":"<p>For questions, discussions, feature requests, or bug reports:</p> <ul> <li>GitHub Issues: https://github.com/ctftamu/SL-GPS/issues</li> <li>Email:</li> <li>Rohit Mishra: rmishra@tamu.edu</li> <li>Aaron Nelson: aaronnelson@tamu.edu</li> <li>Discord Community: Join Channel</li> </ul>"},{"location":"#dependencies","title":"Dependencies","text":"<p>Developed in Python 3. Core dependencies:</p> Package Version Purpose Cantera 2.6.0 (exact) Chemical kinetics, mechanism handling TensorFlow 2.x Neural network training (Keras API) NumPy 1.26.4 Numerical computations scikit-learn latest Data scaling (MinMaxScaler) NetworkX latest GPS flux graph operations Pandas latest Data I/O (CSV) Joblib latest Parallel training <p>Critical: Cantera 2.6.0 is required; newer versions have breaking API changes.</p>"},{"location":"#project-structure","title":"Project Structure","text":"<pre><code>SL-GPS/\n\u251c\u2500\u2500 docs/              # Documentation (MkDocs)\n\u251c\u2500\u2500 src/slgps/         # Main package\n\u2502   \u251c\u2500\u2500 main.py        # Entry point: data generation + training\n\u2502   \u251c\u2500\u2500 mech_train.py  # ANN training logic\n\u2502   \u251c\u2500\u2500 SL_GPS.py      # Adaptive simulation runner\n\u2502   \u251c\u2500\u2500 utils.py       # Core utilities (GPS, simulation, reduction)\n\u2502   \u251c\u2500\u2500 make_data_parallel.py  # Parallel data generation\n\u2502   \u251c\u2500\u2500 display_sim_data.py    # Results visualization\n\u2502   \u2514\u2500\u2500 GPS/           # GPS algorithm submodule\n\u251c\u2500\u2500 tests/             # Test files and examples\n\u251c\u2500\u2500 mkdocs.yml         # Documentation configuration\n\u2514\u2500\u2500 requirements.txt   # Python dependencies\n</code></pre> <p>Next Steps: - \ud83d\udcd6 Read Setup &amp; Installation for detailed installation instructions - \u25b6\ufe0f Check Usage Workflow for step-by-step tutorials - \ud83d\udd27 See Code Structure for customization options</p>"},{"location":"api/","title":"API Reference","text":"<p>This page documents the key functions and modules in SL-GPS.</p>"},{"location":"api/#core-modules","title":"Core Modules","text":""},{"location":"api/#mainpy-training-pipeline-entry-point","title":"<code>main.py</code> - Training Pipeline Entry Point","text":"<p>Main orchestration script that coordinates data generation and ANN training.</p> <p>Key Variables (edit these to customize your run):</p> <pre><code>fuel = 'CH4'  # Fuel species name\nmech_file = 'gri30.cti'  # Detailed mechanism file (Cantera CTI format)\nn_cases = 100  # Number of training simulations\nt_rng = [800, 2300]  # Temperature range (K)\np_rng = [2.1, 2.5]  # Pressure range (log atm)\nalpha = 0.001  # GPS error tolerance (smaller = more species)\nalways_threshold = 0.99  # Species in &gt;99% of cases (always included)\nnever_threshold = 0.01  # Species in &lt;1% of cases (never included)\ndata_path = 'TrainingData/MyData'  # Where to save generated data\nmodel_path = 'Models/MyModel.h5'  # Where to save trained ANN\nscaler_path = 'Scalers/MyScaler.pkl'  # Where to save input scaler\n</code></pre> <p>Workflow:</p> <pre><code>if __name__ == '__main__':\n    # If data doesn't exist, generate it\n    if not os.path.exists(data_path):\n        make_data_parallel(...)  # Generates data.csv and species.csv\n\n    # Train neural network on the data\n    make_model(input_specs, data_path, scaler_path, model_path)\n</code></pre>"},{"location":"api/#make_data_parallelpy-training-data-generation","title":"<code>make_data_parallel.py</code> - Training Data Generation","text":"<p>Generates autoignition simulation data using parallel processing and GPS-based species selection.</p>"},{"location":"api/#make_data_parallel","title":"<code>make_data_parallel()</code>","text":"<pre><code>def make_data_parallel(\n    fuel, mech_file, end_threshold, ign_HRR_threshold_div,\n    ign_GPS_resolution, norm_GPS_resolution, GPS_per_interval,\n    n_cases, t_rng, p_rng, phi_rng, alpha,\n    always_threshold, never_threshold, pathname, species_ranges\n)\n</code></pre> <p>Purpose: Run <code>n_cases</code> autoignition simulations with randomized initial conditions, apply GPS to identify important species at each interval, and save state vectors and species masks.</p> <p>Parameters:</p> Parameter Type Description Example <code>fuel</code> str Fuel species name <code>'CH4'</code> <code>mech_file</code> str Cantera mechanism file <code>'gri30.cti'</code> <code>end_threshold</code> float HRR threshold to end simulation (J/m\u00b3s) <code>2e5</code> <code>ign_HRR_threshold_div</code> int Divisor for max HRR to define ignition <code>300</code> <code>ign_GPS_resolution</code> int Timesteps per interval during ignition <code>200</code> <code>norm_GPS_resolution</code> int Timesteps per interval post-ignition <code>40</code> <code>GPS_per_interval</code> int GPS evaluation points per interval <code>4</code> <code>n_cases</code> int Number of simulations to run <code>100</code> <code>t_rng</code> list Temperature range [min, max] (K) <code>[800, 2300]</code> <code>p_rng</code> list Log pressure range [min, max] (atm) <code>[2.1, 2.5]</code> <code>phi_rng</code> list Equivalence ratio range (not used if species_ranges set) <code>[0.6, 1.4]</code> <code>alpha</code> float GPS pathway threshold (smaller = more species) <code>0.001</code> <code>always_threshold</code> float Species occurrence threshold for \"always include\" <code>0.99</code> <code>never_threshold</code> float Species occurrence threshold for \"never include\" <code>0.01</code> <code>pathname</code> str Output directory for data <code>'TrainingData/Data'</code> <code>species_ranges</code> dict Species composition ranges <code>{'CH4': (0, 1), 'O2': (0, 0.4)}</code> <p>Outputs: - <code>pathname/data.csv</code> - State vectors: [Temperature, Pressure, species mole fractions] - <code>pathname/species.csv</code> - Binary masks: 1 if species important in that timestep - <code>pathname/always_spec_nums.csv</code> - Indices of always-included species - <code>pathname/never_spec_nums.csv</code> - Indices of never-included species</p> <p>Example:</p> <pre><code>make_data_parallel(\n    fuel='CH4', mech_file='gri30.cti', end_threshold=2e5,\n    ign_HRR_threshold_div=300, ign_GPS_resolution=200,\n    norm_GPS_resolution=40, GPS_per_interval=4, n_cases=100,\n    t_rng=[800, 2300], p_rng=[2.1, 2.5], phi_rng=[0.6, 1.4],\n    alpha=0.001, always_threshold=0.99, never_threshold=0.01,\n    pathname='TrainingData/CH4_data', species_ranges={\n        'CH4': (0, 1), 'N2': (0, 0.8), 'O2': (0, 0.4)\n    }\n)\n</code></pre>"},{"location":"api/#process_simulation-internal","title":"<code>process_simulation()</code> (internal)","text":"<pre><code>def process_simulation(sim_data) -&gt; tuple[np.ndarray, np.ndarray]\n</code></pre> <p>Internal function called by joblib.Parallel for each simulation. Returns state vectors and species masks for one autoignition run.</p>"},{"location":"api/#mech_trainpy-neural-network-training","title":"<code>mech_train.py</code> - Neural Network Training","text":"<p>Trains ensemble of ANNs to predict important species based on thermochemical state.</p>"},{"location":"api/#spec_train","title":"<code>spec_train()</code>","text":"<pre><code>def spec_train(X_train, Y_train) -&gt; tuple[Model, History, History]\n</code></pre> <p>Purpose: Train a single ANN model for species prediction.</p> <p>Parameters: - <code>X_train</code> (np.ndarray): Normalized input data [samples, features] - <code>Y_train</code> (np.ndarray): Binary target data [samples, species]</p> <p>Returns: - <code>model</code> - Trained Keras model - <code>history</code> - Training history - <code>train_test_history</code> - Train/test split history</p> <p>Default Architecture:</p> <pre><code>Input Layer: [Temperature, Pressure, species mole fractions]\n  \u2193\nDense(16, activation='relu', kernel_initializer='he_normal')\n  \u2193\nDense(Y_train.shape[1], activation='sigmoid')\n  \u2193\nOutput Layer: [binary predictions for each species]\n</code></pre> <p>To customize architecture, edit spec_train() before the output layer:</p> <pre><code># Current default:\nmodel.add(tf.keras.layers.Dense(16, activation='relu', kernel_initializer='he_normal'))\n\n# Example: Add deeper network\nmodel.add(tf.keras.layers.Dense(64, activation='relu', kernel_initializer='he_normal'))\nmodel.add(tf.keras.layers.Dropout(0.2))\nmodel.add(tf.keras.layers.Dense(32, activation='relu', kernel_initializer='he_normal'))\n</code></pre>"},{"location":"api/#make_model","title":"<code>make_model()</code>","text":"<pre><code>def make_model(input_specs, data_path, scaler_path, model_path)\n</code></pre> <p>Purpose: Load training data, normalize it, train ensemble of ANNs in parallel, and save best model.</p> <p>Parameters:</p> Parameter Type Description <code>input_specs</code> list Species names used as ANN inputs <code>data_path</code> str Directory containing data.csv and species.csv <code>scaler_path</code> str Path to save MinMaxScaler pickle <code>model_path</code> str Path to save best .h5 model <p>Key Settings:</p> <pre><code>num_processes = 28  # Parallel training (configurable via `make_model(..., num_processes=...)`)\ntrain_test_split = 0.2  # 80% train, 20% validation\nearly_stopping_patience = 30  # Epochs to wait for val_loss improvement\nbatch_size = 32\nepochs = 200\n</code></pre> <p>Workflow: 1. Load state vectors and species masks from CSV 2. Select only <code>input_specs</code> columns as features 3. Normalize input using MinMaxScaler (0-1 range) 4. Train 28 models in parallel with different random initializations 5. Select best model by validation loss 6. Save model as .h5 and scaler as .pkl</p> <p>Example:</p> <pre><code>make_model(\n    input_specs=['CH4', 'H2O', 'OH', 'H', 'O2', 'CO2', 'O'],\n    data_path='TrainingData/CH4_data',\n    scaler_path='Scalers/ch4_scaler.pkl',\n    model_path='Models/ch4_model.h5'\n)\n</code></pre>"},{"location":"api/#sl_gpspy-adaptive-simulation","title":"<code>SL_GPS.py</code> - Adaptive Simulation","text":"<p>Runs autoignition simulation with trained ANN dynamically reducing the mechanism.</p> <p>Key Variables:</p> <pre><code>fuel = 'CH4'\nmech_file = 'gri30.cti'  # Detailed mechanism\ninput_specs = ['CH4', 'H2O', 'OH', 'H', 'O2', 'CO2', 'O']  # ANN inputs\nscaler_path = 'Scalers/scaler.pkl'  # MinMaxScaler\nmodel_path = 'Models/model.h5'  # Trained ANN\ndata_path = 'TrainingData/Data'  # Training data (for always/never species)\n\nT0_in = 1500  # Initial temperature (K)\nphi = 1.0  # Equivalence ratio\natm = 1.0  # Pressure (atm)\nt_end = 0.002  # Simulation end time (s)\n\nnorm_Dt = 0.0002  # Timestep pre-ignition (s)\nign_Dt = 0.00005  # Timestep during ignition (s)\nign_threshold = 9e7  # HRR threshold to detect ignition (J/m\u00b3s)\n\nresults_path = 'Results/results.pkl'  # Output pickle file\n</code></pre> <p>Outputs: Pickle file containing:</p> <pre><code>{\n    'time': array,  # Simulation time\n    'temperature': array,  # Temperature evolution\n    'heat_release_rate': array,  # HRR evolution\n    'mole_fractions': dict,  # Species compositions\n    'mechanism_size': array,  # Number of species/reactions over time\n}\n</code></pre>"},{"location":"api/#utilspy-core-utilities","title":"<code>utils.py</code> - Core Utilities","text":"<p>Low-level functions for simulation, mechanism reduction, and GPS species selection.</p>"},{"location":"api/#auto_ign_build_sl","title":"<code>auto_ign_build_SL()</code>","text":"<pre><code>def auto_ign_build_SL(\n    fuel, mech_file, input_specs, norm_Dt, ign_Dt,\n    T0_in, phi, atm, t_end, scaler_path, model_path,\n    data_path, ign_threshold\n) -&gt; dict\n</code></pre> <p>Purpose: Run adaptive autoignition simulation with ANN-based mechanism reduction.</p> <p>Workflow: 1. Load trained ANN and scaler 2. Load training data to get always/never species 3. Start simulation at (T0_in, phi, atm) 4. At each timestep:    - Get current thermochemical state    - Scale state and feed to ANN    - Get binary predictions for species    - Combine with always/never species    - Build reduced mechanism with only selected species    - Step simulation 5. Switch between <code>norm_Dt</code> (slow) and <code>ign_Dt</code> (fast) based on HRR 6. Return results dict</p>"},{"location":"api/#sub_mech","title":"<code>sub_mech()</code>","text":"<pre><code>def sub_mech(mech_file, species_names) -&gt; ct.Solution\n</code></pre> <p>Purpose: Build a reduced Cantera solution with only specified species and their reactions.</p> <p>Parameters: - <code>mech_file</code> - Path to detailed CTI mechanism - <code>species_names</code> - List of species to keep (must match Cantera names exactly)</p> <p>Returns: Cantera Solution object with reduced mechanism</p> <p>Key Logic: - Keeps only reactions where ALL reactants and products are in species_names - Removes reactions involving excluded species</p>"},{"location":"api/#gps_spec","title":"<code>GPS_spec()</code>","text":"<pre><code>def GPS_spec(\n    soln_in, fuel, raw, t_start, t_end, alpha, GPS_per_interval\n) -&gt; set\n</code></pre> <p>Purpose: Apply GPS algorithm to identify important species in a simulation interval.</p> <p>Parameters: - <code>soln_in</code> - Cantera solution object - <code>fuel</code> - Fuel species name - <code>raw</code> - Raw simulation data (time, T, P, X) - <code>t_start</code>, <code>t_end</code> - Time interval (s) - <code>alpha</code> - GPS pathway threshold (smaller = more species) - <code>GPS_per_interval</code> - Number of GPS evaluations in interval</p> <p>Returns: Set of important species</p> <p>GPS Configuration (hardcoded in function):</p> <pre><code>elements = ['C', 'H', 'O']\nsources = [fuel, 'O2']\ntargets = ['CO2', 'H2O']\n</code></pre>"},{"location":"api/#findigninterval","title":"<code>findIgnInterval()</code>","text":"<pre><code>def findIgnInterval(hrr, threshold) -&gt; tuple[int, int]\n</code></pre> <p>Returns time indices where HRR exceeds threshold (ignition start/end).</p>"},{"location":"api/#find_ign_delay","title":"<code>find_ign_delay()</code>","text":"<pre><code>def find_ign_delay(times, temperature) -&gt; float\n</code></pre> <p>Returns ignition delay time when temperature rises by 50% of (T_max - T_min).</p>"},{"location":"api/#auto_ign_build_x0","title":"<code>auto_ign_build_X0()</code>","text":"<pre><code>def auto_ign_build_X0(\n    soln, T0, atm, X0, end_threshold=2e3, end=5, dir_raw=None\n) -&gt; tuple[dict, float, int]\n</code></pre> <p>Purpose: Run detailed autoignition with full mechanism.</p> <p>Parameters: - <code>soln</code> - Cantera solution - <code>T0</code> - Initial temperature (K) - <code>atm</code> - Pressure (atm) - <code>X0</code> - Initial composition (mole fractions dict or string) - <code>end_threshold</code> - HRR limit to stop simulation - <code>end</code> - Maximum simulation time (s) - <code>dir_raw</code> - Directory to save raw data</p> <p>Returns: - <code>raw</code> - Simulation data dict - <code>time_exec</code> - CPU execution time (s) - <code>step_count</code> - Number of timesteps</p>"},{"location":"api/#usage-examples","title":"Usage Examples","text":""},{"location":"api/#example-1-generate-training-data-only","title":"Example 1: Generate Training Data Only","text":"<pre><code>from slgps.make_data_parallel import make_data_parallel\n\nmake_data_parallel(\n    fuel='CH4',\n    mech_file='gri30.cti',\n    end_threshold=2e5,\n    ign_HRR_threshold_div=300,\n    ign_GPS_resolution=200,\n    norm_GPS_resolution=40,\n    GPS_per_interval=4,\n    n_cases=50,  # Small for testing\n    t_rng=[1000, 2000],\n    p_rng=[2.0, 2.5],\n    phi_rng=[0.8, 1.2],\n    alpha=0.001,\n    always_threshold=0.99,\n    never_threshold=0.01,\n    pathname='MyData',\n    species_ranges={'CH4': (0, 1), 'O2': (0, 0.4), 'N2': (0, 0.8)}\n)\n</code></pre>"},{"location":"api/#example-2-train-ann-on-existing-data","title":"Example 2: Train ANN on Existing Data","text":"<pre><code>from slgps.mech_train import make_model\n\nmake_model(\n    input_specs=['CH4', 'O2', 'CO2', 'H2O'],\n    data_path='MyData',\n    scaler_path='MyScaler.pkl',\n    model_path='MyModel.h5'\n)\n</code></pre>"},{"location":"api/#example-3-run-adaptive-simulation","title":"Example 3: Run Adaptive Simulation","text":"<pre><code>from slgps.utils import auto_ign_build_SL\n\nresults = auto_ign_build_SL(\n    fuel='CH4',\n    mech_file='gri30.cti',\n    input_specs=['CH4', 'O2', 'CO2', 'H2O'],\n    norm_Dt=0.0002,\n    ign_Dt=0.00005,\n    T0_in=1500,\n    phi=1.0,\n    atm=1.0,\n    t_end=0.001,\n    scaler_path='MyScaler.pkl',\n    model_path='MyModel.h5',\n    data_path='MyData',\n    ign_threshold=9e7\n)\n</code></pre>"},{"location":"api/#file-formats","title":"File Formats","text":""},{"location":"api/#datacsv-state-vectors","title":"<code>data.csv</code> (State Vectors)","text":"<pre><code># Temperature,Atmospheres,CH4,O2,N2,CO2,H2O,...\n1500,1.0,0.05,0.21,0.74,0.0,0.0,...\n1550,1.0,0.04,0.20,0.76,0.001,0.01,...\n...\n</code></pre> <p>Column order: 1. <code># Temperature</code> (K) 2. <code>Atmospheres</code> (pressure, atm) 3. Species mole fractions in order of <code>input_specs</code></p>"},{"location":"api/#speciescsv-binary-masks","title":"<code>species.csv</code> (Binary Masks)","text":"<pre><code>CH4,O2,N2,CO2,H2O,...\n1,1,1,0,0,...\n1,1,1,1,1,...\n...\n</code></pre> <p>Values: 1 = important in this timestep, 0 = not important</p>"},{"location":"api/#performance-tips","title":"Performance Tips","text":"<ul> <li>Reduce GPS_per_interval from 4 to 2 for faster data generation</li> <li>Reduce n_cases for initial testing</li> <li>Use fewer input_specs to speed up ANN training</li> <li>Increase <code>num_processes</code> in <code>make_model()</code> or via the GUI if you have more CPU cores. The Gradio frontend exposes a \"Number of Processes\" slider to control parallel workers.</li> <li>Use GPU: Install tensorflow[and-cuda] for 10-100x training speedup</li> </ul>"},{"location":"api/#debugging","title":"Debugging","text":"<p>Enable verbose output:</p> <pre><code>import os\nos.environ['TF_CPP_MIN_LOG_LEVEL'] = '0'  # See TensorFlow logs\nimport tensorflow as tf\ntf.debugging.set_log_device_placement(True)  # Log device usage\n</code></pre> <p>Check intermediate results:</p> <pre><code>import pandas as pd\ndata = pd.read_csv('MyData/data.csv')\nprint(data.head())\nprint(data.shape)  # (num_samples, num_features)\n</code></pre>"},{"location":"code_structure/","title":"Code Structure and Customization","text":"<p>The core functionality of SL-GPS is modular, allowing key components to be customized.</p>"},{"location":"code_structure/#key-files-for-customization","title":"Key Files for Customization","text":"File Description Customization Notes <code>main.py</code> Main script for generating training data and triggering model training. [cite_start]Adjust input parameters like <code>t_rng</code>, <code>p_rng</code>, <code>n_cases</code>, <code>alpha</code>, and <code>species_ranges</code> to control the data generation process[cite: 186550]. <code>mech_train.py</code> Contains the logic for the Neural Network training. The architecture of the neural network can be modified in the indicated section of code. The default is typically one hidden layer with 16 neurons. [cite_start]Other hyperparameters (e.g., stopping criteria) can also be edited[cite: 186550]. <code>SL_GPS.py</code> Main script for running the adaptive reduction simulation. [cite_start]Adjust simulation controls like initial conditions, <code>t_end</code>, and the mechanism update frequency (<code>norm_Dt</code>, <code>ign_Dt</code>)[cite: 186550, 186638]. <code>tests/converth5ToPb.ipynb</code> Jupyter notebook example. [cite_start]Used to convert the trained <code>.h5</code> model to a <code>.pb</code> (frozen graph) format for use in other platforms like OpenFOAM[cite: 186554]."},{"location":"code_structure/#default-ann-architecture","title":"Default ANN Architecture","text":"<p>[cite_start]The default neural network architecture is specified in <code>mech_train.py</code>[cite: 186554].</p> <ul> <li>[cite_start]Default Layers: It usually defaults to a single hidden layer with 16 neurons[cite: 186550].</li> <li>[cite_start]Activation: Sigmoid activation function is used[cite: 186550].</li> <li>[cite_start]Loss Function: Binary crossentropy loss is used[cite: 186550].</li> </ul> <p>[cite_start]Note: One version of the repository notes a default of \"16x8 (2 hidden layers)\" in its README, suggesting the architecture may be subject to changes and should be verified in the source code if an older version is in use. [cite: 186554]</p>"},{"location":"frontend/","title":"Frontend GUI","text":"<p>SL-GPS includes a beautiful browser-based GUI built with Gradio that makes it easy for non-technical users to generate datasets and train neural networks.</p>"},{"location":"frontend/#try-online","title":"\ud83c\udf10 Try Online","text":"<p>Launch SL-GPS GUI on Hugging Face Spaces - No installation required! The frontend is fully deployed and ready to use.</p> <p> </p>"},{"location":"frontend/#quick-start","title":"Quick Start","text":""},{"location":"frontend/#local-installation","title":"Local Installation","text":"<pre><code># Install frontend dependencies\npip install -r frontend/requirements.txt\n</code></pre>"},{"location":"frontend/#launch-the-gui","title":"Launch the GUI","text":"<pre><code># From SL-GPS root directory\npython -m frontend\n</code></pre> <p>The GUI opens automatically in your default browser at <code>http://localhost:7860</code></p>"},{"location":"frontend/#features","title":"Features","text":"<p>\u2728 User-Friendly Interface - Intuitive tabs for each workflow step - Sliders and input fields for all parameters - Real-time status updates</p> <p>\ud83d\udcc1 File Management - Upload Cantera mechanism files directly - Automatic output file organization - Download results easily</p> <p>\u2699\ufe0f Full Control - Configure all simulation parameters - Customize neural network architecture - Monitor training progress</p> <p>\ud83c\udf10 Web-Based - No installation needed beyond Python - Share via public links - Works on any device with a browser</p>"},{"location":"frontend/#workflow","title":"Workflow","text":""},{"location":"frontend/#tab-1-generate-dataset","title":"Tab 1: Generate Dataset","text":"<ol> <li>Upload Mechanism File (.cti format)</li> <li> <p>Examples: <code>gri30.cti</code>, <code>nHeptane.cti</code></p> </li> <li> <p>Configure Simulation Parameters</p> </li> <li>Fuel Species: Main reactant (e.g., CH4, H2)</li> <li>Number of Simulations: How many autoignition cases to run</li> <li>Temperature Range: Initial temperatures (K)</li> <li> <p>Pressure Range: Initial pressures (log\u2081\u2080 atm)</p> </li> <li> <p>Set GPS Parameters</p> </li> <li>Alpha: Pathway importance threshold (smaller = more species)</li> <li> <p>Always/Never Thresholds: Frequency cutoffs for species inclusion</p> </li> <li> <p>Define Species Composition</p> </li> <li>JSON format specifying min/max mole fractions</li> <li> <p>Example: <code>{\"CH4\": [0, 1], \"O2\": [0, 0.4]}</code></p> </li> <li> <p>Click Generate</p> </li> <li>Generates <code>generated_data/</code> folder with:<ul> <li><code>data.csv</code> - State vectors</li> <li><code>species.csv</code> - Species importance masks</li> <li><code>always_spec_nums.csv</code> - Always-included species</li> <li><code>never_spec_nums.csv</code> - Never-included species</li> </ul> </li> </ol>"},{"location":"frontend/#tab-2-train-neural-network","title":"Tab 2: Train Neural Network","text":"<ol> <li>Specify Input Species</li> <li>Which species affect ANN decisions</li> <li> <p>Comma-separated list or JSON array</p> </li> <li> <p>Configure Architecture</p> </li> <li>Hidden Layers: Depth of network (1-5)</li> <li>Neurons per Layer: Capacity (4-256)</li> <li> <p>Learning Rate: Training speed</p> </li> <li> <p>Click Train</p> </li> <li>Trains ensemble of ANNs in parallel</li> <li>Number of Processes: Use the new slider to control parallel training workers. Set to <code>1</code> for sequential runs or debugging, higher values (e.g., 8, 16, 28) to use more CPU cores. The backend <code>make_model(..., num_processes=...)</code> accepts this value.</li> <li>Selects best model by validation loss</li> <li>Outputs:<ul> <li><code>model.h5</code> - Trained Keras model</li> <li><code>scaler.pkl</code> - Input normalization</li> </ul> </li> </ol>"},{"location":"frontend/#tab-3-documentation","title":"Tab 3: Documentation","text":"<p>Integrated help and API reference directly in the GUI.</p>"},{"location":"frontend/#interface-walkthrough","title":"Interface Walkthrough","text":""},{"location":"frontend/#dataset-generation-tab","title":"Dataset Generation Tab","text":"<pre><code>\ud83d\udcca GENERATE DATASET\n\u251c\u2500\u2500 Upload Mechanism File\n\u251c\u2500\u2500 Configure Simulation\n\u2502   \u251c\u2500\u2500 Fuel Species: [CH4________]\n\u2502   \u2514\u2500\u2500 Number of Cases: [100]\n\u251c\u2500\u2500 Temperature Range\n\u2502   \u251c\u2500\u2500 Min: [========800========] K\n\u2502   \u2514\u2500\u2500 Max: [=====2300=====] K\n\u251c\u2500\u2500 Pressure Range\n\u2502   \u251c\u2500\u2500 Min: [=2.1=] log atm\n\u2502   \u2514\u2500\u2500 Max: [=2.5=] log atm\n\u251c\u2500\u2500 GPS Parameters\n\u2502   \u251c\u2500\u2500 Alpha: [=0.001=]\n\u2502   \u251c\u2500\u2500 Always Threshold: [====0.99====]\n\u2502   \u2514\u2500\u2500 Never Threshold: [=0.01=]\n\u251c\u2500\u2500 Species Ranges (JSON)\n\u2502   \u2514\u2500\u2500 [{\"CH4\": [0,1], ...}]\n\u2514\u2500\u2500 [\ud83d\ude80 Generate Dataset] [\ud83d\udd04 Clear]\n</code></pre>"},{"location":"frontend/#neural-network-tab","title":"Neural Network Tab","text":"<pre><code>\ud83e\udde0 TRAIN NEURAL NETWORK\n\u251c\u2500\u2500 Input Species\n\u2502   \u2514\u2500\u2500 [CH4, O2, CO2, H2O...]\n\u251c\u2500\u2500 Architecture\n\u2502   \u251c\u2500\u2500 Hidden Layers: [====2====]\n\u2502   \u2514\u2500\u2500 Neurons per Layer: [===16===]\n\u251c\u2500\u2500 Training Settings\n\u2502   \u2514\u2500\u2500 Learning Rate: [===0.001===]\n\u2514\u2500\u2500 [\ud83d\ude80 Train Neural Network]\n</code></pre>"},{"location":"frontend/#parameters-explained","title":"Parameters Explained","text":""},{"location":"frontend/#dataset-generation","title":"Dataset Generation","text":"Parameter Purpose Range Default Fuel Species Main combustible Any species name CH4 N Cases Training simulations 1-1000+ 100 Temp Min/Max Initial temperature range 300-3000 K 800-2300 K Press Min/Max Initial pressure range log\u2081\u2080(atm) 2.1-2.5 Alpha GPS pathway threshold 0.0001-0.1 0.001 Always Threshold \"Always include\" cutoff 0.5-1.0 0.99 Never Threshold \"Never include\" cutoff 0.0-0.5 0.01"},{"location":"frontend/#neural-network","title":"Neural Network","text":"Parameter Purpose Range Default Input Species ANN features Any dataset species CH4, O2, CO2, etc Hidden Layers Network depth 1-5 2 Neurons Layer capacity 4-256 16 Learning Rate Training speed 0.0001-0.1 0.001 Number of Processes Parallel training workers (controls <code>joblib.Parallel</code>) 1-64 1"},{"location":"frontend/#common-workflows","title":"Common Workflows","text":""},{"location":"frontend/#quick-test-5-minutes","title":"Quick Test (5 minutes)","text":"<pre><code>1. Use default parameters, but set:\n   - Number of Cases: 5 (instead of 100)\n   - Temperature Range: 1000-1500 K (instead of 800-2300)\n2. Upload any Cantera mechanism\n3. Generate dataset\n4. Train neural network with default settings\n</code></pre>"},{"location":"frontend/#production-run","title":"Production Run","text":"<pre><code>1. Set parameters for your application:\n   - Fuel species and mechanism\n   - Realistic T/P ranges\n   - GPS alpha for desired accuracy\n2. Set n_cases to 100-500 (more = better but slower)\n3. Generate dataset (may take hours)\n4. Train neural network with 2-3 hidden layers\n5. Download model and scaler for deployment\n</code></pre>"},{"location":"frontend/#fine-tuning-architecture","title":"Fine-Tuning Architecture","text":"<p>To customize neural network layers beyond GUI controls:</p> <ol> <li>Edit <code>src/slgps/mech_train.py</code></li> <li>Modify the <code>spec_train()</code> function</li> <li>Save and re-train through GUI</li> </ol> <pre><code># Example: deeper network with dropout\nmodel.add(Dense(128, activation='relu'))\nmodel.add(Dropout(0.3))\nmodel.add(Dense(64, activation='relu'))\nmodel.add(Dropout(0.2))\nmodel.add(Dense(32, activation='relu'))\n</code></pre> <p>See API Reference for details.</p>"},{"location":"frontend/#tips-tricks","title":"Tips &amp; Tricks","text":""},{"location":"frontend/#performance","title":"Performance","text":"<ul> <li>Faster iteration: Start with 10-20 cases instead of 100</li> <li>Parallel training: Ensure CPU cores available</li> <li>Parallel training: Ensure CPU cores available. Use the <code>Number of Processes</code> slider in the GUI to control how many parallel workers <code>make_model()</code> launches (default in code is 28 for large runs; GUI default is 1 for safe local testing).</li> <li>GPU training: Install <code>tensorflow[and-cuda]</code> for 10-100x speedup</li> <li>Storage: Use SSD for faster I/O during data generation</li> </ul>"},{"location":"frontend/#parameters","title":"Parameters","text":"<ul> <li>Lower alpha = more species included (more accurate, larger models)</li> <li>Higher alpha = fewer species (smaller, faster mechanisms)</li> <li>More cases = better training data (exponential time cost)</li> <li>Deeper networks = more model capacity (slower training)</li> </ul>"},{"location":"frontend/#troubleshooting","title":"Troubleshooting","text":"<p>Port 7860 already in use?</p> <pre><code>python -m frontend --server_port 7861\n</code></pre> <p>Need to share the interface?</p> <pre><code>python -m frontend --share\n</code></pre> <p>Check mechanism validity:</p> <pre><code>import cantera as ct\ngas = ct.Solution('mech_file.cti')\nprint(gas.species_names)\n</code></pre>"},{"location":"frontend/#output-files","title":"Output Files","text":"<p>After running the GUI, you'll have:</p> <pre><code>generated_data/\n\u251c\u2500\u2500 data.csv                  # State vectors (T, P, compositions)\n\u251c\u2500\u2500 species.csv              # Species importance masks\n\u251c\u2500\u2500 always_spec_nums.csv     # Always-included species\n\u251c\u2500\u2500 never_spec_nums.csv      # Never-included species\n\u251c\u2500\u2500 mechanism.cti            # Copy of uploaded mechanism\n\u251c\u2500\u2500 model.h5                 # Trained Keras ANN\n\u2514\u2500\u2500 scaler.pkl               # MinMaxScaler for normalization\n</code></pre>"},{"location":"frontend/#next-steps","title":"Next Steps","text":"<ol> <li>Use the trained model: See SL_GPS.py for adaptive simulation</li> <li>Visualize results: Use <code>display_sim_data.py</code> to plot mechanism reduction</li> <li>Export to other tools: Convert .h5 to .pb for OpenFOAM using <code>h5topb.py</code></li> </ol>"},{"location":"frontend/#advanced-usage","title":"Advanced Usage","text":""},{"location":"frontend/#share-online","title":"Share Online","text":"<pre><code>python -m frontend --share\n</code></pre> <p>Creates a public link valid for 72 hours.</p>"},{"location":"frontend/#custom-output-directory","title":"Custom Output Directory","text":"<p>Edit <code>frontend/app.py</code> and change:</p> <pre><code>data_dir = \"my_output_folder\"\n</code></pre>"},{"location":"frontend/#disable-auto-browser","title":"Disable Auto-Browser","text":"<pre><code>python -m frontend --inbrowser false\n</code></pre>"},{"location":"frontend/#api","title":"API","text":"<p>The GUI calls these backend functions:</p> <ul> <li><code>make_data_parallel()</code> - Dataset generation</li> <li><code>make_model()</code> - Neural network training</li> </ul> <p>See API Reference for detailed documentation.</p>"},{"location":"frontend/#support","title":"Support","text":"<ul> <li>GUI Documentation: See frontend/README.md</li> <li>Full Docs: https://ctftamu.github.io/SL-GPS/</li> <li>GitHub: https://github.com/ctftamu/SL-GPS</li> <li>Issues: https://github.com/ctftamu/SL-GPS/issues</li> <li>Discord: https://discord.com/channels/1333609076726431798/1333610748424880128</li> </ul>"},{"location":"setup/","title":"Setup &amp; Installation","text":"<p>SL-GPS is a Python 3 framework for chemistry reduction using neural networks and GPS. This guide covers installation and verification.</p>"},{"location":"setup/#system-requirements","title":"System Requirements","text":"<ul> <li>Python: 3.8 or higher</li> <li>OS: Linux, macOS, or Windows</li> <li>RAM: Minimum 4GB (8GB+ recommended for parallel training)</li> <li>Disk: ~1GB for dependencies and data</li> </ul>"},{"location":"setup/#installation-methods","title":"Installation Methods","text":""},{"location":"setup/#method-1-quick-install-recommended","title":"Method 1: Quick Install (Recommended)","text":"<p>Clone and install from source with all dependencies:</p> <pre><code># Clone the repository\ngit clone https://github.com/ctftamu/SL-GPS.git\ncd SL-GPS\n\n# Create a virtual environment (optional but recommended)\npython3 -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\n\n# Install all dependencies\npip install --upgrade pip\npip install -r requirements.txt\n</code></pre>"},{"location":"setup/#method-2-step-by-step-installation","title":"Method 2: Step-by-Step Installation","text":"<p>If you prefer to install packages individually:</p> <pre><code># Upgrade pip\npip install --upgrade pip\n\n# 1. Install base scientific libraries\npip install numpy==1.26.4 matplotlib pandas\n\n# 2. Install machine learning libraries\npip install tensorflow scikit-learn\n\n# 3. Install Cantera (CRITICAL: exact version required)\npip install --no-cache-dir \"cantera==2.6.0\"\n\n# 4. Install other dependencies\npip install networkx joblib\n\n# 5. Install SL-GPS\npip install git+https://github.com/ctftamu/SL-GPS.git\n</code></pre>"},{"location":"setup/#virtual-environment-setup-recommended","title":"Virtual Environment Setup (Recommended)","text":"<p>Using a virtual environment isolates this project's dependencies:</p>"},{"location":"setup/#using-venv-python-38","title":"Using <code>venv</code> (Python 3.8+)","text":"<pre><code># Create virtual environment\npython3 -m venv sl_gps_env\n\n# Activate it\nsource sl_gps_env/bin/activate          # Linux/macOS\n# OR\nsl_gps_env\\Scripts\\activate             # Windows PowerShell\n\n# Then install dependencies\npip install -r requirements.txt\n</code></pre>"},{"location":"setup/#using-conda-if-you-have-anacondaminiconda","title":"Using <code>conda</code> (if you have Anaconda/Miniconda)","text":"<pre><code># Create conda environment\nconda create -n sl_gps python=3.10\n\n# Activate it\nconda activate sl_gps\n\n# Install dependencies\npip install -r requirements.txt\n</code></pre>"},{"location":"setup/#dependency-versions","title":"Dependency Versions","text":"Package Version Purpose Notes Python 3.8+ Language - cantera 2.6.0 Chemical kinetics EXACT VERSION - 2.6.1+ breaks compatibility tensorflow 2.x Neural networks 2.13+ recommended for Python 3.10+ numpy 1.26.4 Numerics Pinned for stability scikit-learn latest Data scaling For MinMaxScaler networkx latest Graph algorithms For GPS flux graphs pandas latest Data I/O For CSV handling joblib latest Parallelization For ensemble training mkdocs latest Documentation For serving docs locally mkdocs-material latest Docs theme -"},{"location":"setup/#verification","title":"Verification","text":"<p>After installation, verify everything works:</p>"},{"location":"setup/#quick-test","title":"Quick Test","text":"<pre><code>python -c \"import cantera; import tensorflow; import numpy; print('All imports successful!')\"\n</code></pre>"},{"location":"setup/#run-unit-tests","title":"Run Unit Tests","text":"<pre><code># Navigate to repo directory\ncd SL-GPS\n\n# Run tests\npython -m pytest tests/test_basic.py -v\n</code></pre>"},{"location":"setup/#test-data-generation-optional","title":"Test Data Generation (Optional)","text":"<p>For a quick end-to-end test, edit <code>src/slgps/main.py</code>:</p> <pre><code># Change n_cases to a small number for testing\nn_cases = 5  # Instead of 100\n\n# Run\npython src/slgps/main.py\n</code></pre> <p>This will generate a small training dataset and train an ANN (~5-10 minutes).</p>"},{"location":"setup/#troubleshooting","title":"Troubleshooting","text":""},{"location":"setup/#issue-cantera-installation-fails","title":"Issue: Cantera Installation Fails","text":"<p>Problem: <code>pip install cantera</code> fails or installs wrong version</p> <p>Solution:</p> <pre><code># Force exact version\npip install --no-cache-dir \"cantera==2.6.0\"\n\n# Verify installation\npython -c \"import cantera; print(cantera.__version__)\"\n# Should print: 2.6.0\n</code></pre>"},{"location":"setup/#issue-tensorflow-wont-install","title":"Issue: TensorFlow Won't Install","text":"<p>Problem: <code>pip install tensorflow</code> fails with CUDA/GPU errors</p> <p>Solution (CPU-only, faster to install):</p> <pre><code>pip install tensorflow-cpu\n</code></pre> <p>Solution (with GPU support, requires CUDA):</p> <pre><code># First install CUDA toolkit appropriate for your GPU\n# Then:\npip install tensorflow[and-cuda]\n</code></pre>"},{"location":"setup/#issue-numpy-version-conflicts","title":"Issue: NumPy Version Conflicts","text":"<p>Problem: <code>ImportError: numpy version mismatch</code></p> <p>Solution:</p> <pre><code>pip install --upgrade --force-reinstall numpy==1.26.4\n</code></pre>"},{"location":"setup/#issue-modulenotfounderror-in-gps-submodule","title":"Issue: ModuleNotFoundError in GPS submodule","text":"<p>Problem: <code>from slgps.GPS.src.* import *</code> fails</p> <p>Solution:</p> <pre><code># Make sure you're in the repo directory\ncd /path/to/SL-GPS\n\n# Reinstall from source\npip install -e .\n</code></pre>"},{"location":"setup/#issue-gpucuda-related-warnings","title":"Issue: GPU/CUDA-related Warnings","text":"<p>Solution (safe to ignore):</p> <pre><code># Add to top of your Python scripts to suppress TensorFlow GPU warnings:\nimport os\nos.environ['TF_CPP_MIN_LOG_LEVEL'] = '3'  # Suppress TensorFlow logging\nimport tensorflow as tf\n</code></pre>"},{"location":"setup/#windows-specific-notes","title":"Windows-Specific Notes","text":""},{"location":"setup/#cantera-installation-on-windows","title":"Cantera Installation on Windows","text":"<pre><code># Use pre-built wheels (easier)\npip install --no-cache-dir cantera==2.6.0\n</code></pre>"},{"location":"setup/#virtual-environment-activation","title":"Virtual Environment Activation","text":"<pre><code># Command Prompt\nvenv\\Scripts\\activate\n\n# PowerShell\nvenv\\Scripts\\Activate.ps1\n</code></pre>"},{"location":"setup/#next-steps","title":"Next Steps","text":"<p>After successful installation:</p> <ol> <li>Read the Usage Workflow - Step-by-step guide for data generation and training</li> <li>Check Code Structure - How to customize ANN architecture and GPS parameters</li> <li>Try the examples - Run the provided test cases in <code>tests/</code></li> </ol>"},{"location":"setup/#common-questions","title":"Common Questions","text":"<p>Q: Can I use Cantera 2.7 or newer? A: No. Cantera 2.6.0 is required. API changes in newer versions break compatibility. Use exactly 2.6.0.</p> <p>Q: Do I need a GPU? A: No, but it's faster. TensorFlow runs on CPU by default. For GPU support, install TensorFlow with CUDA.</p> <p>Q: What Python version should I use? A: 3.8-3.11 are tested. 3.10 is recommended for best compatibility with all dependencies.</p> <p>Q: Can I use conda? A: Yes, but Cantera installation is easier with pip. Mix both if needed: <code>conda create &amp;&amp; pip install</code>.</p> <p>Still having issues? Check the GitHub Issues or contact us via Discord.</p>"},{"location":"workflow/","title":"Usage Workflow","text":"<p>[cite_start]The repository facilitates a two-stage workflow: Creating an ANN (Training) and Testing the ANN (Simulation)[cite: 186550, 186638].</p>"},{"location":"workflow/#1-creating-an-ann-training","title":"1. Creating an ANN (Training)","text":"<p>To produce a new ANN as an <code>.h5</code> file, run the <code>main.py</code> file.</p>"},{"location":"workflow/#data-generation","title":"Data Generation","text":"<p>[cite_start]If the input parameter <code>'data_path'</code> specified in <code>main.py</code> does not point to a pre-existing directory containing state vector and reduced species data, the script will perform the following[cite: 186550]: 1.  [cite_start]Run a series of autoignition simulations across a random set of initial conditions (T, P, $\\phi$)[cite: 186550]. 2.  [cite_start]Run classic GPS on the simulation results to produce the training dataset[cite: 186550]. 3.  [cite_start]The simulation parameters are controlled by variables in <code>main.py</code>, including the <code>fuel</code>, <code>detailed mechanism</code> (<code>mech_file</code>), ranges of initial temperature (<code>t_rng</code>), pressure (<code>p_rng</code>), and equivalence ratio (<code>phi_rng</code>), the <code>number of cases</code> (<code>n_cases</code>), and the tolerance of GPS in including species (<code>alpha</code>)[cite: 186550].</p>"},{"location":"workflow/#ann-training","title":"ANN Training","text":"<p>[cite_start]Once data exists at the specified directory, an ANN will be trained[cite: 186550].</p> <ul> <li>[cite_start]The trained ANN is stored as an .h5 file in a directory specified in <code>main.py</code> (variable: <code>model_path</code>)[cite: 186550].</li> <li>The ANN predicts the inclusion of a subset of species (variable species). The full species list is partitioned into three groups based on training data frequency thresholds (<code>always_threshold</code>, <code>never_threshold</code>):<ul> <li>Variable Species (determined by ANN)</li> <li>[cite_start]Always Included species (<code>always_spec_nums.csv</code>) [cite: 186550]</li> <li>[cite_start]Never Included species (<code>never_spec_nums.csv</code>) [cite: 186550]</li> </ul> </li> </ul>"},{"location":"workflow/#2-testing-the-ann-simulation","title":"2. Testing the ANN (Simulation)","text":"<p>[cite_start]To test a trained ANN by adaptively reducing a mechanism using the SL-GPS method over the course of an autoignition simulation, run <code>SL_GPS.py</code>[cite: 186550].</p> <p>[cite_start]Parameters within <code>SL_GPS.py</code> control the following[cite: 186550, 186638]: * Initial conditions (<code>T0_in</code>, <code>phi</code>, <code>atm</code>) * Simulation duration (<code>t_end</code>) * Frequency of mechanism updates (<code>norm_Dt</code>, <code>ign_Dt</code>) * Paths to the trained ANN and scaler (<code>model_path</code>, <code>scaler_path</code>)</p> <p>[cite_start]The result of this simulation, including temperature, heat release rate, mole fractions, and net reaction rates, is stored in a .pkl file[cite: 186550, 186638].</p>"},{"location":"workflow/#3-plotting-results","title":"3. Plotting Results","text":"<p>To visualize the simulation results, run <code>display_sim_data.py</code> with the path to the <code>.pkl</code> file in the input parameters. [cite_start]It uses matplotlib to display time profiles of[cite: 186550, 186638]: * Temperature * Heat release rate * Mole fractions for selected species * The number of species and reactions in the reduced mechanisms selected by the ANN over time</p>"}]}